<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Controllers Package &mdash; SPROCLIB - The TensorFlow/Keras for Chemical Engineering</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=70140151" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=8d563738"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/semantic_examples.js?v=29722ac0"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Analysis Package" href="analysis_package.html" />
    <link rel="prev" title="dynamics Function" href="../transport/continuous/liquid/dynamics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            SPROCLIB - Semantic Process Control Library
          </a>
              <div class="version">
                1.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Semantic Plant Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../semantic_plant_design.html">Semantic Plant Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../semantic_examples.html">Complete Semantic Plant Design Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorflow_comparison.html">TensorFlow/Keras vs SPROCLIB Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="units_package.html">Units Operations Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="transport_package.html">Transport (Pipes, Drums)Package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Controllers Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-structure">Package Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#base-classes">Base Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tuningrule-abstract-base-class">TuningRule Abstract Base Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.base.TuningRule.TuningRule"><code class="docutils literal notranslate"><span class="pre">TuningRule</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pid-controllers">PID Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pidcontroller-class">PIDController Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.pid.PIDController.PIDController"><code class="docutils literal notranslate"><span class="pre">PIDController</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tuning-methods">Tuning Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ziegler-nichols-tuning">Ziegler-Nichols Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.tuning.ZieglerNicholsTuning"><code class="docutils literal notranslate"><span class="pre">ZieglerNicholsTuning</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#amigo-tuning">AMIGO Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.tuning.AMIGOTuning"><code class="docutils literal notranslate"><span class="pre">AMIGOTuning</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#relay-tuning">Relay Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.tuning.RelayTuning"><code class="docutils literal notranslate"><span class="pre">RelayTuning</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model-based-controllers">Model-Based Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#internal-model-control-imc">Internal Model Control (IMC)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.model_based.IMCController.IMCController"><code class="docutils literal notranslate"><span class="pre">IMCController</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#process-models-for-imc">Process Models for IMC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.model_based.IMCController.FOPDTModel"><code class="docutils literal notranslate"><span class="pre">FOPDTModel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#controller.model_based.IMCController.SOPDTModel"><code class="docutils literal notranslate"><span class="pre">SOPDTModel</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#state-space-controllers">State-Space Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#state-space-control">State-Space Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller.state_space.StateSpaceController.StateSpaceController"><code class="docutils literal notranslate"><span class="pre">StateSpaceController</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#controller.state_space.StateSpaceController.StateSpaceModel"><code class="docutils literal notranslate"><span class="pre">StateSpaceModel</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migration-from-legacy-interface">Migration from Legacy Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis_package.html">Analysis Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation_package.html">Simulation Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization_package.html">Optimization Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling_package.html">Scheduling Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities_package.html">Utilities Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy.html">Legacy Package</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">Theory and Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to the Standard Process Control Library</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SPROCLIB - Semantic Process Control Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Controllers Package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/paramus/sproclib/blob/main/docs/source/api/controllers_package.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="controllers-package">
<h1>Controllers Package<a class="headerlink" href="#controllers-package" title="Link to this heading"></a></h1>
<p>The controller package provides modular controller implementations for process control applications.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The controller package is organized into the following subpackages:</p>
<ul class="simple">
<li><p><strong>base</strong> - Abstract base classes for controllers and tuning rules</p></li>
<li><p><strong>pid</strong> - PID controller implementations</p></li>
<li><p><strong>tuning</strong> - Various tuning methods for automated parameter selection</p></li>
<li><p><strong>model_based</strong> - Model-based controllers (IMC, etc.)</p></li>
<li><p><strong>state_space</strong> - State-space controllers for MIMO systems</p></li>
</ul>
</section>
<section id="package-structure">
<h2>Package Structure<a class="headerlink" href="#package-structure" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>controller/
├── base/
│   └── TuningRule.py          # Abstract base class for tuning rules
├── pid/
│   └── PIDController.py       # Advanced PID controller
├── tuning/
│   ├── ZieglerNicholsTuning.py   # Classic Ziegler-Nichols tuning
│   ├── AMIGOTuning.py            # AMIGO robust tuning
│   └── RelayTuning.py            # Relay auto-tuning
├── model_based/
│   └── IMCController.py          # Internal Model Control
└── state_space/
    └── StateSpaceController.py   # State-space MIMO control
</pre></div>
</div>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
<p><strong>New Modular Imports (Recommended):</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controller.pid.PIDController</span> <span class="kn">import</span> <span class="n">PIDController</span>
<span class="kn">from</span> <span class="nn">controller.tuning.ZieglerNicholsTuning</span> <span class="kn">import</span> <span class="n">ZieglerNicholsTuning</span>
<span class="kn">from</span> <span class="nn">controller.model_based.IMCController</span> <span class="kn">import</span> <span class="n">IMCController</span>
<span class="kn">from</span> <span class="nn">controller.state_space.StateSpaceController</span> <span class="kn">import</span> <span class="n">StateSpaceController</span>

<span class="c1"># Create and tune a PID controller</span>
<span class="n">tuner</span> <span class="o">=</span> <span class="n">ZieglerNicholsTuning</span><span class="p">(</span><span class="n">controller_type</span><span class="o">=</span><span class="s2">&quot;PID&quot;</span><span class="p">)</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">calculate_parameters</span><span class="p">({</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">})</span>

<span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">Kp</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">],</span> <span class="n">Ki</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Ki&#39;</span><span class="p">],</span> <span class="n">Kd</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">])</span>

<span class="c1"># Or use advanced model-based control</span>
<span class="n">imc</span> <span class="o">=</span> <span class="n">IMCController</span><span class="p">(</span><span class="n">process_model</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Legacy Imports (Backward Compatibility):</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controllers</span> <span class="kn">import</span> <span class="n">PIDController</span><span class="p">,</span> <span class="n">ZieglerNicholsTuning</span>

<span class="c1"># Same usage as above</span>
</pre></div>
</div>
</section>
<section id="base-classes">
<h2>Base Classes<a class="headerlink" href="#base-classes" title="Link to this heading"></a></h2>
<section id="tuningrule-abstract-base-class">
<h3>TuningRule Abstract Base Class<a class="headerlink" href="#tuningrule-abstract-base-class" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="controller.base.TuningRule.TuningRule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.base.TuningRule.</span></span><span class="sig-name descname"><span class="pre">TuningRule</span></span><a class="reference internal" href="../_modules/controller/base/TuningRule.html#TuningRule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.base.TuningRule.TuningRule" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Abstract base class for PID tuning rules.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.base.TuningRule.TuningRule.calculate_parameters">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/base/TuningRule.html#TuningRule.calculate_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.base.TuningRule.TuningRule.calculate_parameters" title="Link to this definition"></a></dt>
<dd><p>Calculate PID parameters from process model parameters.</p>
</dd></dl>

</dd></dl>

<p>The TuningRule class provides an abstract interface for all tuning methods.</p>
</section>
</section>
<section id="pid-controllers">
<h2>PID Controllers<a class="headerlink" href="#pid-controllers" title="Link to this heading"></a></h2>
<section id="pidcontroller-class">
<h3>PIDController Class<a class="headerlink" href="#pidcontroller-class" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.pid.PIDController.</span></span><span class="sig-name descname"><span class="pre">PIDController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Kp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ki</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Kd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MV_bar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MV_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MV_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Advanced PID Controller implementation with anti-windup, bumpless transfer,
setpoint weighting, and derivative filtering.</p>
<p>Implementation with modern industrial features for robust process control.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Kp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ki</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Kd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MV_bar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MV_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MV_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize PID Controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Kp</strong> – Proportional gain</p></li>
<li><p><strong>Ki</strong> – Integral gain</p></li>
<li><p><strong>Kd</strong> – Derivative gain</p></li>
<li><p><strong>MV_bar</strong> – Bias term for manipulated variable</p></li>
<li><p><strong>beta</strong> – Setpoint weighting for proportional term (0-1)</p></li>
<li><p><strong>gamma</strong> – Setpoint weighting for derivative term (0-1)</p></li>
<li><p><strong>N</strong> – Derivative filter parameter</p></li>
<li><p><strong>MV_min</strong> – Minimum output value</p></li>
<li><p><strong>MV_max</strong> – Maximum output value</p></li>
<li><p><strong>direct_action</strong> – If True, increase output for positive error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController.reset" title="Link to this definition"></a></dt>
<dd><p>Reset controller internal state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">SP</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">PV</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">TR</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController.update" title="Link to this definition"></a></dt>
<dd><p>Update PID controller output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – Current time</p></li>
<li><p><strong>SP</strong> – Setpoint</p></li>
<li><p><strong>PV</strong> – Process variable (measurement)</p></li>
<li><p><strong>TR</strong> – Tracking signal for bumpless transfer (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Manipulated variable output</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>MV</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController.set_auto_mode">
<span class="sig-name descname"><span class="pre">set_auto_mode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController.set_auto_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController.set_auto_mode" title="Link to this definition"></a></dt>
<dd><p>Switch to automatic mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController.set_manual_mode">
<span class="sig-name descname"><span class="pre">set_manual_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mv_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController.set_manual_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController.set_manual_mode" title="Link to this definition"></a></dt>
<dd><p>Switch to manual mode with specified output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.pid.PIDController.PIDController.get_status">
<span class="sig-name descname"><span class="pre">get_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/pid/PIDController.html#PIDController.get_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.pid.PIDController.PIDController.get_status" title="Link to this definition"></a></dt>
<dd><p>Get controller status information.</p>
</dd></dl>

</dd></dl>

<p>Advanced PID controller with anti-windup, setpoint weighting, and bumpless transfer.</p>
</section>
</section>
<section id="tuning-methods">
<h2>Tuning Methods<a class="headerlink" href="#tuning-methods" title="Link to this heading"></a></h2>
<section id="ziegler-nichols-tuning">
<h3>Ziegler-Nichols Tuning<a class="headerlink" href="#ziegler-nichols-tuning" title="Link to this heading"></a></h3>
<p>Classic tuning method based on step response characteristics.</p>
<dl class="py class">
<dt class="sig sig-object py" id="controller.tuning.ZieglerNicholsTuning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.tuning.</span></span><span class="sig-name descname"><span class="pre">ZieglerNicholsTuning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PID'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/tuning/ZieglerNicholsTuning.html#ZieglerNicholsTuning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.ZieglerNicholsTuning" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#controller.base.TuningRule.TuningRule" title="controller.base.TuningRule.TuningRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">TuningRule</span></code></a></p>
<p>Ziegler-Nichols tuning rules for PID controllers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.tuning.ZieglerNicholsTuning.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PID'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/tuning/ZieglerNicholsTuning.html#ZieglerNicholsTuning.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.ZieglerNicholsTuning.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize Ziegler-Nichols tuning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>controller_type</strong> – “P”, “PI”, or “PID”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.tuning.ZieglerNicholsTuning.calculate_parameters">
<span class="sig-name descname"><span class="pre">calculate_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/tuning/ZieglerNicholsTuning.html#ZieglerNicholsTuning.calculate_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.ZieglerNicholsTuning.calculate_parameters" title="Link to this definition"></a></dt>
<dd><p>Calculate PID parameters using Ziegler-Nichols tuning rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_params</strong> – Must contain ‘K’, ‘tau’, ‘theta’ for FOPDT model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with ‘Kp’, ‘Ki’, ‘Kd’ parameters</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="amigo-tuning">
<h3>AMIGO Tuning<a class="headerlink" href="#amigo-tuning" title="Link to this heading"></a></h3>
<p>Advanced Method for Integrating and Generally Oscillating processes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="controller.tuning.AMIGOTuning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.tuning.</span></span><span class="sig-name descname"><span class="pre">AMIGOTuning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PID'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/tuning/AMIGOTuning.html#AMIGOTuning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.AMIGOTuning" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#controller.base.TuningRule.TuningRule" title="controller.base.TuningRule.TuningRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">TuningRule</span></code></a></p>
<p>AMIGO tuning rules for robust PID control.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.tuning.AMIGOTuning.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'PID'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/tuning/AMIGOTuning.html#AMIGOTuning.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.AMIGOTuning.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize AMIGO tuning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>controller_type</strong> – “PI” or “PID”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.tuning.AMIGOTuning.calculate_parameters">
<span class="sig-name descname"><span class="pre">calculate_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/tuning/AMIGOTuning.html#AMIGOTuning.calculate_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.AMIGOTuning.calculate_parameters" title="Link to this definition"></a></dt>
<dd><p>Calculate PID parameters using AMIGO tuning rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_params</strong> – Must contain ‘K’, ‘tau’, ‘theta’ for FOPDT model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with ‘Kp’, ‘Ki’, ‘Kd’, ‘beta’, ‘gamma’ parameters</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="relay-tuning">
<h3>Relay Tuning<a class="headerlink" href="#relay-tuning" title="Link to this heading"></a></h3>
<p>Automatic tuning using relay feedback test.</p>
<dl class="py class">
<dt class="sig sig-object py" id="controller.tuning.RelayTuning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.tuning.</span></span><span class="sig-name descname"><span class="pre">RelayTuning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relay_amplitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/tuning/RelayTuning.html#RelayTuning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.RelayTuning" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#controller.base.TuningRule.TuningRule" title="controller.base.TuningRule.TuningRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">TuningRule</span></code></a></p>
<p>Relay tuning method for PID controllers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.tuning.RelayTuning.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relay_amplitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/tuning/RelayTuning.html#RelayTuning.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.RelayTuning.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize relay tuning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>relay_amplitude</strong> – Amplitude of relay signal</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.tuning.RelayTuning.calculate_parameters">
<span class="sig-name descname"><span class="pre">calculate_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/tuning/RelayTuning.html#RelayTuning.calculate_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.tuning.RelayTuning.calculate_parameters" title="Link to this definition"></a></dt>
<dd><p>Calculate PID parameters from relay test results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_params</strong> – Must contain ‘Pu’ (ultimate period), ‘a’ (amplitude)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with ‘Kp’, ‘Ki’, ‘Kd’ parameters</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="model-based-controllers">
<h2>Model-Based Controllers<a class="headerlink" href="#model-based-controllers" title="Link to this heading"></a></h2>
<p>The model_based package provides advanced control algorithms that use process models for improved performance.</p>
<section id="internal-model-control-imc">
<h3>Internal Model Control (IMC)<a class="headerlink" href="#internal-model-control-imc" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.model_based.IMCController.</span></span><span class="sig-name descname"><span class="pre">IMCController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ProcessModelInterface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_time_constant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'IMC_Controller'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Internal Model Control (IMC) Controller.</p>
<p>IMC uses the inverse of the process model to cancel process dynamics,
providing excellent setpoint tracking and disturbance rejection.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ProcessModelInterface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_time_constant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'IMC_Controller'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize IMC controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>process_model</strong> – Process model implementing ProcessModelInterface</p></li>
<li><p><strong>filter_time_constant</strong> – IMC filter time constant λ [time units]</p></li>
<li><p><strong>filter_order</strong> – Order of IMC filter (1 or 2)</p></li>
<li><p><strong>name</strong> – Controller name for identification</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_variable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedforward</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.update" title="Link to this definition"></a></dt>
<dd><p>Update IMC controller and calculate control output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – Current time</p></li>
<li><p><strong>setpoint</strong> – Desired setpoint value</p></li>
<li><p><strong>process_variable</strong> – Current process variable (measurement)</p></li>
<li><p><strong>feedforward</strong> – Optional feedforward signal</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Controller output (manipulated variable)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.set_output_limits">
<span class="sig-name descname"><span class="pre">set_output_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.set_output_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.set_output_limits" title="Link to this definition"></a></dt>
<dd><p>Set output saturation limits.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.reset" title="Link to this definition"></a></dt>
<dd><p>Reset controller internal state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.get_tuning_parameters">
<span class="sig-name descname"><span class="pre">get_tuning_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.get_tuning_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.get_tuning_parameters" title="Link to this definition"></a></dt>
<dd><p>Get current tuning parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.frequency_response">
<span class="sig-name descname"><span class="pre">frequency_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530160912'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple[&lt;MagicMock</span> <span class="pre">id='2769530164800'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530168496'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530173584'&gt;]</span></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.frequency_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.frequency_response" title="Link to this definition"></a></dt>
<dd><p>Calculate frequency response of the IMC controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>omega</strong> – Frequency array [rad/time]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (magnitude, phase, frequency)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.IMCController.closed_loop_response">
<span class="sig-name descname"><span class="pre">closed_loop_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530139520'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple[&lt;MagicMock</span> <span class="pre">id='2769530106896'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769526431552'&gt;]</span></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#IMCController.closed_loop_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.IMCController.closed_loop_response" title="Link to this definition"></a></dt>
<dd><p>Calculate closed-loop frequency response.</p>
<p>For IMC: T(s) = G(s)*Q(s) / (1 + G(s)*Q(s))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>omega</strong> – Frequency array [rad/time]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (magnitude, phase)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="process-models-for-imc">
<h3>Process Models for IMC<a class="headerlink" href="#process-models-for-imc" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="controller.model_based.IMCController.FOPDTModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.model_based.IMCController.</span></span><span class="sig-name descname"><span class="pre">FOPDTModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#FOPDTModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.FOPDTModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessModelInterface</span></code></p>
<p>First Order Plus Dead Time (FOPDT) model for IMC.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.FOPDTModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#FOPDTModel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.FOPDTModel.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize FOPDT model: G(s) = K * exp(-θs) / (τs + 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> – Process gain</p></li>
<li><p><strong>tau</strong> – Time constant [time units]</p></li>
<li><p><strong>theta</strong> – Dead time [time units]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.FOPDTModel.transfer_function">
<span class="sig-name descname"><span class="pre">transfer_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#FOPDTModel.transfer_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.FOPDTModel.transfer_function" title="Link to this definition"></a></dt>
<dd><p>FOPDT transfer function G(s) = K * exp(-θs) / (τs + 1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.FOPDTModel.inverse_transfer_function">
<span class="sig-name descname"><span class="pre">inverse_transfer_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#FOPDTModel.inverse_transfer_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.FOPDTModel.inverse_transfer_function" title="Link to this definition"></a></dt>
<dd><p>Inverse FOPDT: G⁻¹(s) = (τs + 1) * exp(θs) / K</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.FOPDTModel.step_response">
<span class="sig-name descname"><span class="pre">step_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530063568'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530067408'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#FOPDTModel.step_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.FOPDTModel.step_response" title="Link to this definition"></a></dt>
<dd><p>Step response: y(t) = K * (1 - exp(-(t-θ)/τ)) * u(t-θ)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="controller.model_based.IMCController.SOPDTModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.model_based.IMCController.</span></span><span class="sig-name descname"><span class="pre">SOPDTModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#SOPDTModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.SOPDTModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessModelInterface</span></code></p>
<p>Second Order Plus Dead Time model for IMC.</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.SOPDTModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#SOPDTModel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.SOPDTModel.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize SOPDT model: G(s) = K * exp(-θs) / ((τ₁s + 1)(τ₂s + 1))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> – Process gain</p></li>
<li><p><strong>tau1</strong> – First time constant [time units]</p></li>
<li><p><strong>tau2</strong> – Second time constant [time units]</p></li>
<li><p><strong>theta</strong> – Dead time [time units]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.SOPDTModel.transfer_function">
<span class="sig-name descname"><span class="pre">transfer_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#SOPDTModel.transfer_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.SOPDTModel.transfer_function" title="Link to this definition"></a></dt>
<dd><p>SOPDT transfer function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.SOPDTModel.inverse_transfer_function">
<span class="sig-name descname"><span class="pre">inverse_transfer_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.13)"><span class="pre">complex</span></a></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#SOPDTModel.inverse_transfer_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.SOPDTModel.inverse_transfer_function" title="Link to this definition"></a></dt>
<dd><p>Inverse SOPDT transfer function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.model_based.IMCController.SOPDTModel.step_response">
<span class="sig-name descname"><span class="pre">step_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530071104'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769530074896'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/model_based/IMCController.html#SOPDTModel.step_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.model_based.IMCController.SOPDTModel.step_response" title="Link to this definition"></a></dt>
<dd><p>Step response for second-order system</p>
</dd></dl>

</dd></dl>

<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controller.model_based.IMCController</span> <span class="kn">import</span> <span class="n">IMCController</span><span class="p">,</span> <span class="n">FOPDTModel</span><span class="p">,</span> <span class="n">tune_imc_lambda</span>

<span class="c1"># Create process model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">FOPDTModel</span><span class="p">(</span><span class="n">K</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">tau</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># Auto-tune IMC filter parameter</span>
<span class="n">lambda_filter</span> <span class="o">=</span> <span class="n">tune_imc_lambda</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">response_time_factor</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>

<span class="c1"># Create IMC controller</span>
<span class="n">imc</span> <span class="o">=</span> <span class="n">IMCController</span><span class="p">(</span><span class="n">process_model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">lambda_filter</span><span class="o">=</span><span class="n">lambda_filter</span><span class="p">)</span>

<span class="c1"># Use in control loop</span>
<span class="k">for</span> <span class="n">setpoint</span> <span class="ow">in</span> <span class="n">setpoints</span><span class="p">:</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">imc</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">setpoint</span><span class="p">,</span> <span class="n">measurement</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="state-space-controllers">
<h2>State-Space Controllers<a class="headerlink" href="#state-space-controllers" title="Link to this heading"></a></h2>
<p>The state_space package implements advanced MIMO control for complex process systems.</p>
<section id="state-space-control">
<h3>State-Space Control<a class="headerlink" href="#state-space-control" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.state_space.StateSpaceController.</span></span><span class="sig-name descname"><span class="pre">StateSpaceController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#controller.state_space.StateSpaceController.StateSpaceModel" title="controller.state_space.StateSpaceController.StateSpaceModel"><span class="pre">StateSpaceModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lqr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'StateSpaceController'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>State-Space Controller using full state feedback.</p>
<p>Implements various state-space control methods:
- Pole placement
- Linear Quadratic Regulator (LQR)
- State observer design</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#controller.state_space.StateSpaceController.StateSpaceModel" title="controller.state_space.StateSpaceController.StateSpaceModel"><span class="pre">StateSpaceModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lqr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'StateSpaceController'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize state-space controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – State-space model</p></li>
<li><p><strong>control_method</strong> – Control method (‘pole_placement’, ‘lqr’)</p></li>
<li><p><strong>name</strong> – Controller name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.design_lqr_controller">
<span class="sig-name descname"><span class="pre">design_lqr_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Q:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532698256'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532652960'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532656752'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532619184'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.design_lqr_controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.design_lqr_controller" title="Link to this definition"></a></dt>
<dd><p>Design Linear Quadratic Regulator (LQR) controller.</p>
<p>Minimizes cost function: J = ∫(x’Qx + u’Ru + 2x’Nu) dt</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Q</strong> – State weighting matrix [n_states x n_states]</p></li>
<li><p><strong>R</strong> – Input weighting matrix [n_inputs x n_inputs]</p></li>
<li><p><strong>N</strong> – Cross-weighting matrix [n_states x n_inputs] (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>State feedback gain matrix K</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.design_pole_placement_controller">
<span class="sig-name descname"><span class="pre">design_pole_placement_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">desired_poles:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532623840'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532627584'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.design_pole_placement_controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.design_pole_placement_controller" title="Link to this definition"></a></dt>
<dd><p>Design controller using pole placement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>desired_poles</strong> – Desired closed-loop poles</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>State feedback gain matrix K</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.design_observer">
<span class="sig-name descname"><span class="pre">design_observer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observer_poles:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532631328'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'pole_placement'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532536784'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.design_observer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.design_observer" title="Link to this definition"></a></dt>
<dd><p>Design state observer (Luenberger observer).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>observer_poles</strong> – Desired observer poles</p></li>
<li><p><strong>method</strong> – Observer design method (‘pole_placement’, ‘lqr’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Observer gain matrix L</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.design_reference_tracking">
<span class="sig-name descname"><span class="pre">design_reference_tracking</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532540576'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.design_reference_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.design_reference_tracking" title="Link to this definition"></a></dt>
<dd><p>Design reference tracking for step inputs.</p>
<p>Calculates feedforward gain N such that steady-state error is zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Reference tracking matrix N</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t:</span> <span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532544416'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532548160'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532519152'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532530768'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533116512'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.update" title="Link to this definition"></a></dt>
<dd><p>Update controller and calculate control action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – Current time</p></li>
<li><p><strong>y</strong> – Measured outputs [n_outputs]</p></li>
<li><p><strong>r</strong> – Reference signals [n_outputs]</p></li>
<li><p><strong>x</strong> – Full state measurement [n_states] (optional, uses observer if not provided)</p></li>
<li><p><strong>d</strong> – Known disturbances [n_disturbances] (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Control input u [n_inputs]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.set_control_limits">
<span class="sig-name descname"><span class="pre">set_control_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u_min:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533121120'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_max:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533157696'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.set_control_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.set_control_limits" title="Link to this definition"></a></dt>
<dd><p>Set control input saturation limits.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.reset" title="Link to this definition"></a></dt>
<dd><p>Reset controller internal state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.get_controller_info">
<span class="sig-name descname"><span class="pre">get_controller_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.get_controller_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.get_controller_info" title="Link to this definition"></a></dt>
<dd><p>Get controller information and parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceController.closed_loop_simulation">
<span class="sig-name descname"><span class="pre">closed_loop_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533161440'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533165136'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533168928'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533172720'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measurement_noise:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533200832'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple[&lt;MagicMock</span> <span class="pre">id='2769528601728'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533266704'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769533270448'&gt;]</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceController.closed_loop_simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceController.closed_loop_simulation" title="Link to this definition"></a></dt>
<dd><p>Simulate closed-loop system response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – Time array</p></li>
<li><p><strong>r</strong> – Reference signals [len(t) x n_outputs]</p></li>
<li><p><strong>x0</strong> – Initial state [n_states]</p></li>
<li><p><strong>d</strong> – Disturbances [len(t) x n_disturbances] (optional)</p></li>
<li><p><strong>measurement_noise</strong> – Measurement noise [len(t) x n_outputs] (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (states, outputs, control_inputs)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.state_space.StateSpaceController.</span></span><span class="sig-name descname"><span class="pre">StateSpaceModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532748144'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532751888'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532746064'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532742080'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769505921712'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769528756784'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'StateSpaceModel'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>State-space model representation for control design.</p>
<p>Represents a linear time-invariant system:
dx/dt = A*x + B*u + E*d
y = C*x + D*u + F*d</p>
<p>Where:
- x: state vector
- u: input vector (manipulated variables)
- d: disturbance vector
- y: output vector (measured variables)</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532748144'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532751888'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532746064'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532742080'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769505921712'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769528756784'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'StateSpaceModel'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize state-space model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> – State matrix [n_states x n_states]</p></li>
<li><p><strong>B</strong> – Input matrix [n_states x n_inputs]</p></li>
<li><p><strong>C</strong> – Output matrix [n_outputs x n_states]</p></li>
<li><p><strong>D</strong> – Feedthrough matrix [n_outputs x n_inputs] (optional)</p></li>
<li><p><strong>E</strong> – Disturbance state matrix [n_states x n_disturbances] (optional)</p></li>
<li><p><strong>F</strong> – Disturbance output matrix [n_outputs x n_disturbances] (optional)</p></li>
<li><p><strong>state_names</strong> – Names of state variables</p></li>
<li><p><strong>input_names</strong> – Names of input variables</p></li>
<li><p><strong>output_names</strong> – Names of output variables</p></li>
<li><p><strong>name</strong> – Model name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532494448'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529968816'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529973376'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529963248'&gt;</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple[&lt;MagicMock</span> <span class="pre">id='2769529999760'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529788976'&gt;]</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.simulate" title="Link to this definition"></a></dt>
<dd><p>Simulate state-space model response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – Time array</p></li>
<li><p><strong>u</strong> – Input array [len(t) x n_inputs]</p></li>
<li><p><strong>x0</strong> – Initial state [n_states]</p></li>
<li><p><strong>d</strong> – Disturbance array [len(t) x n_disturbances] (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (states, outputs) arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.step_response">
<span class="sig-name descname"><span class="pre">step_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t:</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529784944'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_index:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_magnitude:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple[&lt;MagicMock</span> <span class="pre">id='2769532756016'&gt;,</span> <span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532759808'&gt;]</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.step_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.step_response" title="Link to this definition"></a></dt>
<dd><p>Calculate step response for specified input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – Time array</p></li>
<li><p><strong>input_index</strong> – Index of input for step test</p></li>
<li><p><strong>step_magnitude</strong> – Magnitude of step input</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (states, outputs) arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.controllability_matrix">
<span class="sig-name descname"><span class="pre">controllability_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532822320'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.controllability_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.controllability_matrix" title="Link to this definition"></a></dt>
<dd><p>Calculate controllability matrix [B AB A²B … A^(n-1)B]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.observability_matrix">
<span class="sig-name descname"><span class="pre">observability_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769532687168'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.observability_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.observability_matrix" title="Link to this definition"></a></dt>
<dd><p>Calculate observability matrix [C; CA; CA²; …; CA^(n-1)]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.is_controllable">
<span class="sig-name descname"><span class="pre">is_controllable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.is_controllable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.is_controllable" title="Link to this definition"></a></dt>
<dd><p>Check if system is controllable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.is_observable">
<span class="sig-name descname"><span class="pre">is_observable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.is_observable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.is_observable" title="Link to this definition"></a></dt>
<dd><p>Check if system is observable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.is_stable">
<span class="sig-name descname"><span class="pre">is_stable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.is_stable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.is_stable" title="Link to this definition"></a></dt>
<dd><p>Check if system is stable (all eigenvalues have negative real parts)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.poles">
<span class="sig-name descname"><span class="pre">poles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529964112'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.poles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.poles" title="Link to this definition"></a></dt>
<dd><p>Get system poles (eigenvalues of A matrix)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.state_space.StateSpaceController.StateSpaceModel.zeros">
<span class="sig-name descname"><span class="pre">zeros</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;MagicMock</span> <span class="pre">id='2769529966272'&gt;</span></span></span><a class="reference internal" href="../_modules/controller/state_space/StateSpaceController.html#StateSpaceModel.zeros"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.state_space.StateSpaceController.StateSpaceModel.zeros" title="Link to this definition"></a></dt>
<dd><p>Calculate system zeros (transmission zeros)</p>
</dd></dl>

</dd></dl>

<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controller.state_space.StateSpaceController</span> <span class="kn">import</span> <span class="n">StateSpaceController</span><span class="p">,</span> <span class="n">StateSpaceModel</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Define system matrices for a 2x2 MIMO system</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8</span><span class="p">]])</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]])</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]])</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1"># Create state-space model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">StateSpaceModel</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>

<span class="c1"># Design LQR controller</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># State penalty</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Input penalty</span>

<span class="n">controller</span> <span class="o">=</span> <span class="n">StateSpaceController</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">K</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">design_lqr</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>

<span class="c1"># Use in control loop</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># Initial state</span>
<span class="k">for</span> <span class="n">setpoint</span> <span class="ow">in</span> <span class="n">setpoints</span><span class="p">:</span>
    <span class="n">u</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">compute_lqr</span><span class="p">(</span><span class="n">setpoint</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p><strong>Basic PID Control:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controller.pid.PIDController</span> <span class="kn">import</span> <span class="n">PIDController</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Create PID controller</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span>
    <span class="n">Kp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">Ki</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">Kd</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">MV_min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">MV_max</span><span class="o">=</span><span class="mf">100.0</span>
<span class="p">)</span>

<span class="c1"># Simulation loop</span>
<span class="n">setpoint</span> <span class="o">=</span> <span class="mf">50.0</span>
<span class="n">process_value</span> <span class="o">=</span> <span class="mf">45.0</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">):</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">pid</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">setpoint</span><span class="p">,</span> <span class="n">process_value</span><span class="p">)</span>
    <span class="c1"># Apply output to process...</span>
    <span class="c1"># Update process_value from process...</span>
</pre></div>
</div>
<p><strong>Automatic Tuning:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controller.tuning.AMIGOTuning</span> <span class="kn">import</span> <span class="n">AMIGOTuning</span>
<span class="kn">from</span> <span class="nn">controller.pid.PIDController</span> <span class="kn">import</span> <span class="n">PIDController</span>

<span class="c1"># Auto-tune using AMIGO method</span>
<span class="n">tuner</span> <span class="o">=</span> <span class="n">AMIGOTuning</span><span class="p">(</span><span class="n">controller_type</span><span class="o">=</span><span class="s2">&quot;PID&quot;</span><span class="p">)</span>
<span class="n">model_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">}</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">calculate_parameters</span><span class="p">(</span><span class="n">model_params</span><span class="p">)</span>

<span class="c1"># Create tuned controller</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span>
    <span class="n">Kp</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">],</span>
    <span class="n">Ki</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Ki&#39;</span><span class="p">],</span>
    <span class="n">Kd</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">],</span>
    <span class="n">beta</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;beta&#39;</span><span class="p">],</span>
    <span class="n">gamma</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;gamma&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Relay Auto-Tuning:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">controller.tuning.RelayTuning</span> <span class="kn">import</span> <span class="n">RelayTuning</span>

<span class="c1"># Perform relay test first to get Pu and amplitude</span>
<span class="n">tuner</span> <span class="o">=</span> <span class="n">RelayTuning</span><span class="p">(</span><span class="n">relay_amplitude</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>
<span class="n">test_results</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Pu&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">}</span>  <span class="c1"># From relay test</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">calculate_parameters</span><span class="p">(</span><span class="n">test_results</span><span class="p">)</span>

<span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">Kp</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">],</span> <span class="n">Ki</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Ki&#39;</span><span class="p">],</span> <span class="n">Kd</span><span class="o">=</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="migration-from-legacy-interface">
<h2>Migration from Legacy Interface<a class="headerlink" href="#migration-from-legacy-interface" title="Link to this heading"></a></h2>
<p>The modular controller structure provides several benefits over the legacy monolithic controllers.py:</p>
<p><strong>Benefits of New Structure:</strong></p>
<ul class="simple">
<li><p><strong>Better Organization</strong>: Controllers grouped by type and functionality</p></li>
<li><p><strong>Easier Maintenance</strong>: Each controller class in its own file</p></li>
<li><p><strong>Enhanced Discoverability</strong>: Clear import paths for specific controllers</p></li>
<li><p><strong>Future-Proof</strong>: Modular design supports easy extension with new controller types</p></li>
</ul>
<p><strong>Migration Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old (Legacy - still supported)</span>
<span class="kn">from</span> <span class="nn">controllers</span> <span class="kn">import</span> <span class="n">PIDController</span><span class="p">,</span> <span class="n">ZieglerNicholsTuning</span>

<span class="c1"># New (Recommended)</span>
<span class="kn">from</span> <span class="nn">controller.pid.PIDController</span> <span class="kn">import</span> <span class="n">PIDController</span>
<span class="kn">from</span> <span class="nn">controller.tuning.ZieglerNicholsTuning</span> <span class="kn">import</span> <span class="n">ZieglerNicholsTuning</span>
</pre></div>
</div>
<p>The legacy interface remains fully functional for backward compatibility.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../examples.html"><span class="doc">Examples</span></a> - Comprehensive examples showing controller usage</p></li>
<li><p><a class="reference internal" href="units_package.html"><span class="doc">Units Operations Package</span></a> - Process units that work with controllers</p></li>
<li><p><a class="reference internal" href="analysis_package.html"><span class="doc">Analysis Package</span></a> - Analysis tools for controller design</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../transport/continuous/liquid/dynamics.html" class="btn btn-neutral float-left" title="dynamics Function" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="analysis_package.html" class="btn btn-neutral float-right" title="Analysis Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Thorsten Gressling.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>